CREATE TABLE IF NOT EXISTS person (
    id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    first_name VARCHAR(20) NOT NULL,
    last_name VARCHAR(20) NOT NULL,
    birth_year INT CHECK(birth_year > 1900) NOT NULL,
    passport_nr VARCHAR(8) NOT NULL UNIQUE
);

CREATE TABLE IF NOT EXISTS book (
    id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    author VARCHAR(100) NOT NULL,
    pub_year INT NOT NULL,
    person_id INT REFERENCES person(id) ON DELETE SET NULL
);